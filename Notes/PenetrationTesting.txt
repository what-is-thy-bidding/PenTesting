Linux command line Commands

Navigating the File System.

pwd- print working directory

cd - Change directory

cd.. - Go to previous directory 

cd /root/ - declare the directory we want to go to

ls - list 

mkdir - make directory(create folder) = mkdir new/

rm rmdir - remove file/ directory(folder) = rmdir new/

echo "hello">new.txt - create a new.txt with hello in it.

cp new.txt Desktop/newNew.txt - create a copy of new.txt in Desktop.

mv Documents/new.txt Desktop/newNew.txt -  move new.txt to Destkop
					and rename it to newNew.txt

locate new.txt - finds the file in system.
updatedb - it may not find new.txt since it is a new file thus need
	to update the database.

man ls, man mv -  User Manual.

*****************************
ls -la - Hidden files, starts with d=directory, - = file
	rwx-read,write,execute
	-rw-r--r-- = read,write, not execute by file owner;
		     Group owner, only read permission;
		     New account, only read the file, no permission.
*****************************

chmod- change mode.

chmod 777 new.txt (will give read write execute permission for all cases)
chmod +x new.txt (will add execution status to all cases)
chmod -x new.txt (will remove execution status to all cases)

sudo adduser Bob- adding a new user named Bob.
What are some important files with users?

cat /etc/passwd - password file, but not contains passwords anymore,
		it use to way way in the past.
		Now it provides a place holder for a file x for a 
		different file, called the "shadow file".
		We can see the users and their UID files.
		We can also see the users we created.
		
		We are only concerned with root and the users(Bob).

cat /etc/shadow - look at the details of the shadow file. add sudo.
		Gives the Hash Information. Big no-no to give access
		Only root must have access to the Hash.
		We can also get the Hash for other users(Bob).
		We could in theory crack these Hashes(unshadowing tool).
		We can combine the SHADOW file and the Password file
		Take the root hash from the shadow file and place it
		in the password file.
		We can run that through john or HashCat.
		Cracking Linux passwords with HashCat(Youtube it).

su Bob - switch user to Bob 
+++++++++++++++++++++++
Network Commands
+++++++++++++++++++++++

"ifconfig" OR "ip a"(Linux) "ipconfig"(Win)- both commands give the 
				same information.What a netmask is
				and broadcast is ?(Networking skills).
				
iwconfig - wireless configurations.

ping 192.168.232.1 - pinging an address. CTRL+C to exit.
ping -c 1 192.168.232.1 - c is count, ping it only once.

arp -a = ip addresses with mac addresses.Basically, a broadcast
	address that is sent out, and it says "hey who has this
	ipaddress?", reply:"i do, here is my mac address".
	They associate the ipaddress with the mac address.
	Really good if you are looking for DUAL home networks or
	A machine interacting with another machine that you weren't
	aware of.

netstat -ano = Shows you all the ports that are open. 
		What's connected to those ports.

route = routing table.

history = List of the previous commands that were used.

history | grep ping = find all the commands with ping

+++++++++++++++++++++++++++++++++
View Creating and editing files
+++++++++++++++++++++++++++++++++
echo "hello" > hello.txt  = creating a new file with hello in it.
echo "hello" > hello.txt = overwrites previous text.
echo "hello again" >> hello.txt = appending to the end of the file.
rm hello.txt = removing file
touch hello.txt = creating a new file.
nano hello.txt =enter hello.txt in the commandline and edit it.
gedit hello.txt = creates a new file and opens it(gedit).
apt update && apt upgrade = update your machine.

(sudo) apt install git -y = install git
(sudo) apt install ftp = install ftp
(sudo) apt purge *impacket= delete all files with the word impacket.

impacket installing.
+++++++++++++++++++++++++++
Turing on and off Services.
+++++++++++++++++++++++++++

service apache2 start = Starting an apache page
service ssh start = Starting ssh
service postgresql start = Starting postgres, postgres works with 
				MetaSploit.

service apache2 stop = Stopping the service.

When computer is turned off, then all these go away.

systemctl enable ssh =  Now when computer start, ssh also starts.
systemctl enable postgres=  Now when computer start,postgres also starts.
systemctl enable apache2=  Now when computer start, apache2 also starts.

++++++++++++++++++++++++++++++++++++++++
Writing your own scripts(pinging script)
++++++++++++++++++++++++++++++++++++++++

ping -c 1 192.168.232.1 >ip.txt
catip.txt

Assuming that we recieved 64 bytes.

cat ip.txt | grep "64 bytes" = pulls all lines that contains 64 bytes

cat ip.txt | grep "64 bytes"| cut -d " " -f 4 = delimiter -d " " =
						String split(" ")
						fetch 4th element = 
						f 4

cat ip.txt | grep "64 bytes"| cut -d " " - f 4| tr -d ":" = removes :

building script in nano. ipsweep.sh -

ipsweep.sh
#!/bin/bash
if[ "$1" =="" ] -->need spaces
then 
echo "You forgot an IP address"
echo "Syntax: ./ipsweep.sh 192.168.232.1"

for ip in `seq 1 254` ; do
ping -c 1 $1.$ip | grep "64 bytes"| cut -d " " -f 4 | tr -d ":" &
done
		
&--> multithreading

we have to chmod+x ipsweep.sh (execution).

running the script : ./ipsweep.sh 192.168.232.1 > iplist.txt

nmap scan can get us all the open ports at an ipaddress	

*********************************************************
for ip in $(cat iplist.txt); do nmap -p 80 -T4 $ip & done
*********************************************************

for variable ip in the list, scan for port 80, at speed T4(scanning speed).


----------------------------------------------------------------
Building a port scanner

Python Host a server wherever we are at(unlike apache server where
it has to be in the var/www folder)

	python SimpleHTTPServer 80

So if we want to host that malware on a machine or download files
quickly, this a way to do it(file transfers)

python3 syntax
	python3 -m http.server 80 

Another way to extract files on a windows machine or send files over 
is to host up an ftp server.
We can download an ftp server and transfer files that way
But we can host it on a python server and host the files from where 
we are using == pip install pyftpdlib

python -m pyftpdlib -p 21 w

browser - ftp://192.168.56.129/

No we are hosting an FTP server and can be used in windows
	
